var slot1 = [{"from":"2025-04-01T21:00:00.000Z","name":"The Saga of Tanya the Evil","picture":"tanya-the-evil","rating":15,"count":12,"genre":["Action","War","Isekai"],"date":"2025-04-08T18:00:00.000Z","day":8,"month":"Apr","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12}],"weeks":[{"week":"2025-04-08","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-04-15","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-04-22","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-04-29","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-05-06","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-05-13","episodes":[{"episode":11},{"episode":12}]}]},{"from":"2025-05-13T21:00:00.000Z","name":"Iroduku: The World in Colours","picture":"iroduku","rating":"pg","genre":["Slice of life","Drama"],"count":13,"episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7,"show":"single"},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12},{"episode":13}],"date":"2025-05-20T18:00:00.000Z","day":20,"month":"May","weekday":"Tuesday","year":"2025","weeks":[{"week":"2025-05-20","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-05-27","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-06-03","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-06-10","episodes":[{"episode":7,"show":"single"}]},{"week":"2025-06-17","episodes":[{"episode":8},{"episode":9}]},{"week":"2025-06-24","episodes":[{"episode":10},{"episode":11}]},{"week":"2025-07-01","episodes":[{"episode":12},{"episode":13}]}]}];
var slot2 = [{"from":"2025-04-15T21:00:00.000Z","name":"Durarara!!","picture":"durarara","count":24,"rating":15,"date":"2025-04-22T19:00:00.000Z","day":22,"month":"Apr","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12},{"episode":13},{"episode":14},{"episode":15},{"episode":16},{"episode":17},{"episode":18},{"episode":19},{"episode":20},{"episode":21},{"episode":22},{"episode":23},{"episode":24}],"weeks":[{"week":"2025-04-22","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-04-29","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-05-06","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-05-13","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-05-20","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-05-27","episodes":[{"episode":11},{"episode":12}]},{"week":"2025-06-03","episodes":[{"episode":13},{"episode":14}]},{"week":"2025-06-10","episodes":[{"episode":15},{"episode":16}]},{"week":"2025-06-17","episodes":[{"episode":17},{"episode":18}]},{"week":"2025-06-24","episodes":[{"episode":19},{"episode":20}]},{"week":"2025-07-01","episodes":[{"episode":21},{"episode":22}]},{"week":"2025-07-08","episodes":[{"episode":23},{"episode":24}]}]}];
var slot3 = [{"from":"2025-04-08T21:00:00.000Z","name":"By the Grace of the Gods S2","picture":"by-the-grace-of-the-gods","genre":["Isekai","Slice of life"],"count":12,"rating":12,"date":"2025-04-15T20:00:00.000Z","day":15,"month":"Apr","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12}],"weeks":[{"week":"2025-04-15","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-04-22","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-04-29","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-05-06","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-05-13","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-05-20","episodes":[{"episode":11},{"episode":12}]}]},{"from":"2025-05-20T21:00:00.000Z","name":"Konusuba: An Explosion on This Wonderful World","picture":"konosuba-explosion","genre":[""],"count":12,"rating":15,"date":"2025-05-27T20:00:00.000Z","day":27,"month":"May","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12}],"weeks":[{"week":"2025-05-27","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-06-03","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-06-10","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-06-17","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-06-24","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-07-01","episodes":[{"episode":11},{"episode":12}]}]}];
var comingSoon = [{"from":"2025-05-20T18:00:00.000Z","name":"Iroduku: The World in Colours","picture":"iroduku","rating":"pg","genre":["Slice of life","Drama"],"count":13,"episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7,"show":"single"},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12},{"episode":13}],"date":"2025-05-20T18:00:00.000Z","day":20,"month":"May","weekday":"Tuesday","year":"2025","weeks":[{"week":"2025-05-20","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-05-27","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-06-03","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-06-10","episodes":[{"episode":7,"show":"single"}]},{"week":"2025-06-17","episodes":[{"episode":8},{"episode":9}]},{"week":"2025-06-24","episodes":[{"episode":10},{"episode":11}]},{"week":"2025-07-01","episodes":[{"episode":12},{"episode":13}]}]},{"name":"The Saga of Tanya the Evil: The Movie","date":"2025-05-24T13:00:00.000Z","time":"1pm","picture":"tanya-the-evil-movie","venue":"The White Hart","rating":15,"hide":true,"day":24,"month":"May","weekday":"Saturday","year":"2025","movie":true},{"from":"2025-05-27T20:00:00.000Z","name":"Konusuba: An Explosion on This Wonderful World","picture":"konosuba-explosion","genre":[""],"count":12,"rating":15,"date":"2025-05-27T20:00:00.000Z","day":27,"month":"May","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12}],"weeks":[{"week":"2025-05-27","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-06-03","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-06-10","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-06-17","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-06-24","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-07-01","episodes":[{"episode":11},{"episode":12}]}]}];

var events = [{"date":"2025-05-12T18:00:00.000Z","shortDate":"2025-05-12","month":"May","day":12,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-05-12T18:00:00.000Z","dateLong":"Monday, 12 May 2025, 7pm","mediumDate":"12 May 2025","shortDate":"2025-05-12","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":12,"month":"May","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-05-13T18:00:00.000Z","shortDate":"2025-05-13","month":"May","day":13,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-05-13T18:00:00.000Z","dateLong":"Tuesday, 13 May 2025, 7pm","mediumDate":"13 May 2025","shortDate":"2025-05-13","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":13,"month":"May","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-05-19T18:00:00.000Z","shortDate":"2025-05-19","month":"May","day":19,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-05-19T18:00:00.000Z","dateLong":"Monday, 19 May 2025, 7pm","mediumDate":"19 May 2025","shortDate":"2025-05-19","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":19,"month":"May","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-05-20T18:00:00.000Z","shortDate":"2025-05-20","month":"May","day":20,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-05-20T18:00:00.000Z","dateLong":"Tuesday, 20 May 2025, 7pm","mediumDate":"20 May 2025","shortDate":"2025-05-20","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":20,"month":"May","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"},{"date":"2025-05-20T18:05:00.000Z","dateLong":"Tuesday, 20 May 2025, 7pm","mediumDate":"20 May 2025","shortDate":"2025-05-20","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":20,"month":"May","year":"2025","prename":"New series","name":"Iroduku: The World in Colours","picture":"iroduku","class":"new-series"}],"special":false,"hide":false},{"date":"2025-05-24T00:00:00.000Z","shortDate":"2025-05-24","month":"May","day":24,"weekday":"Saturday","year":"2025","class":"cinema","events":[{"name":"The Saga of Tanya the Evil: The Movie","date":"2025-05-24T00:00:00.000Z","class":"cinema","price":"Â£2","time":"1pm","venue":"The White Hart","picture":"tanya-the-evil-movie","rating":15,"dateLong":"Saturday, 24 May 2025, undefined","mediumDate":"24 May 2025","shortDate":"2025-05-24","weekday":"Saturday","shortWeekday":"Sat","day":24,"month":"May","year":"2025","special":true,"address":""}],"special":true,"hide":false},{"date":"2025-05-26T18:00:00.000Z","shortDate":"2025-05-26","month":"May","day":26,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-05-26T18:00:00.000Z","dateLong":"Monday, 26 May 2025, 7pm","mediumDate":"26 May 2025","shortDate":"2025-05-26","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":26,"month":"May","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-05-27T18:00:00.000Z","shortDate":"2025-05-27","month":"May","day":27,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-05-27T18:00:00.000Z","dateLong":"Tuesday, 27 May 2025, 7pm","mediumDate":"27 May 2025","shortDate":"2025-05-27","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":27,"month":"May","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"},{"date":"2025-05-27T20:05:00.000Z","dateLong":"Tuesday, 27 May 2025, 9pm","mediumDate":"27 May 2025","shortDate":"2025-05-27","time":"9pm","weekday":"Tuesday","shortWeekday":"Tue","day":27,"month":"May","year":"2025","prename":"New series","name":"Konusuba: An Explosion on This Wonderful World","picture":"konosuba-explosion","class":"new-series"}],"special":false,"hide":false},{"date":"2025-06-02T18:00:00.000Z","shortDate":"2025-06-02","month":"Jun","day":2,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-06-02T18:00:00.000Z","dateLong":"Monday, 2 June 2025, 7pm","mediumDate":"2 Jun 2025","shortDate":"2025-06-02","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":2,"month":"Jun","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-06-03T18:00:00.000Z","shortDate":"2025-06-03","month":"Jun","day":3,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-06-03T18:00:00.000Z","dateLong":"Tuesday, 3 June 2025, 7pm","mediumDate":"3 Jun 2025","shortDate":"2025-06-03","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":3,"month":"Jun","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-06-09T18:00:00.000Z","shortDate":"2025-06-09","month":"Jun","day":9,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-06-09T18:00:00.000Z","dateLong":"Monday, 9 June 2025, 7pm","mediumDate":"9 Jun 2025","shortDate":"2025-06-09","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":9,"month":"Jun","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-06-10T18:00:00.000Z","shortDate":"2025-06-10","month":"Jun","day":10,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-06-10T18:00:00.000Z","dateLong":"Tuesday, 10 June 2025, 7pm","mediumDate":"10 Jun 2025","shortDate":"2025-06-10","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":10,"month":"Jun","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-06-12T00:00:00.000Z","shortDate":"2025-06-12","month":"Jun","day":12,"weekday":"Thursday","year":"2025","class":"social","events":[{"name":"Board Games","date":"2025-06-12T00:00:00.000Z","class":"social","venue":"Dice Tower","time":"6pm","dateLong":"Thursday, 12 June 2025, undefined","mediumDate":"12 Jun 2025","shortDate":"2025-06-12","weekday":"Thursday","shortWeekday":"Thu","day":12,"month":"Jun","year":"2025","special":false,"address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-06-16T18:00:00.000Z","shortDate":"2025-06-16","month":"Jun","day":16,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-06-16T18:00:00.000Z","dateLong":"Monday, 16 June 2025, 7pm","mediumDate":"16 Jun 2025","shortDate":"2025-06-16","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":16,"month":"Jun","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-06-17T18:00:00.000Z","shortDate":"2025-06-17","month":"Jun","day":17,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-06-17T18:00:00.000Z","dateLong":"Tuesday, 17 June 2025, 7pm","mediumDate":"17 Jun 2025","shortDate":"2025-06-17","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":17,"month":"Jun","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-06-23T18:00:00.000Z","shortDate":"2025-06-23","month":"Jun","day":23,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-06-23T18:00:00.000Z","dateLong":"Monday, 23 June 2025, 7pm","mediumDate":"23 Jun 2025","shortDate":"2025-06-23","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":23,"month":"Jun","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-06-24T18:00:00.000Z","shortDate":"2025-06-24","month":"Jun","day":24,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-06-24T18:00:00.000Z","dateLong":"Tuesday, 24 June 2025, 7pm","mediumDate":"24 Jun 2025","shortDate":"2025-06-24","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":24,"month":"Jun","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-06-30T18:00:00.000Z","shortDate":"2025-06-30","month":"Jun","day":30,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-06-30T18:00:00.000Z","dateLong":"Monday, 30 June 2025, 7pm","mediumDate":"30 Jun 2025","shortDate":"2025-06-30","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":30,"month":"Jun","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-07-01T18:00:00.000Z","shortDate":"2025-07-01","month":"Jul","day":1,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-07-01T18:00:00.000Z","dateLong":"Tuesday, 1 July 2025, 7pm","mediumDate":"1 Jul 2025","shortDate":"2025-07-01","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":1,"month":"Jul","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-07-07T18:00:00.000Z","shortDate":"2025-07-07","month":"Jul","day":7,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-07-07T18:00:00.000Z","dateLong":"Monday, 7 July 2025, 7pm","mediumDate":"7 Jul 2025","shortDate":"2025-07-07","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":7,"month":"Jul","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-07-08T18:00:00.000Z","shortDate":"2025-07-08","month":"Jul","day":8,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-07-08T18:00:00.000Z","dateLong":"Tuesday, 8 July 2025, 7pm","mediumDate":"8 Jul 2025","shortDate":"2025-07-08","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":8,"month":"Jul","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-07-10T00:00:00.000Z","shortDate":"2025-07-10","month":"Jul","day":10,"weekday":"Thursday","year":"2025","class":"social","events":[{"name":"Board Games","date":"2025-07-10T00:00:00.000Z","class":"social","venue":"Dice Tower","time":"6pm","dateLong":"Thursday, 10 July 2025, undefined","mediumDate":"10 Jul 2025","shortDate":"2025-07-10","weekday":"Thursday","shortWeekday":"Thu","day":10,"month":"Jul","year":"2025","special":false,"address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-07-14T18:00:00.000Z","shortDate":"2025-07-14","month":"Jul","day":14,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-07-14T18:00:00.000Z","dateLong":"Monday, 14 July 2025, 7pm","mediumDate":"14 Jul 2025","shortDate":"2025-07-14","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":14,"month":"Jul","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-07-15T18:00:00.000Z","shortDate":"2025-07-15","month":"Jul","day":15,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-07-15T18:00:00.000Z","dateLong":"Tuesday, 15 July 2025, 7pm","mediumDate":"15 Jul 2025","shortDate":"2025-07-15","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":15,"month":"Jul","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-07-21T18:00:00.000Z","shortDate":"2025-07-21","month":"Jul","day":21,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-07-21T18:00:00.000Z","dateLong":"Monday, 21 July 2025, 7pm","mediumDate":"21 Jul 2025","shortDate":"2025-07-21","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":21,"month":"Jul","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-07-22T18:00:00.000Z","shortDate":"2025-07-22","month":"Jul","day":22,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-07-22T18:00:00.000Z","dateLong":"Tuesday, 22 July 2025, 7pm","mediumDate":"22 Jul 2025","shortDate":"2025-07-22","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":22,"month":"Jul","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-07-28T18:00:00.000Z","shortDate":"2025-07-28","month":"Jul","day":28,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-07-28T18:00:00.000Z","dateLong":"Monday, 28 July 2025, 7pm","mediumDate":"28 Jul 2025","shortDate":"2025-07-28","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":28,"month":"Jul","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-07-29T18:00:00.000Z","shortDate":"2025-07-29","month":"Jul","day":29,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-07-29T18:00:00.000Z","dateLong":"Tuesday, 29 July 2025, 7pm","mediumDate":"29 Jul 2025","shortDate":"2025-07-29","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":29,"month":"Jul","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-08-04T18:00:00.000Z","shortDate":"2025-08-04","month":"Aug","day":4,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-08-04T18:00:00.000Z","dateLong":"Monday, 4 August 2025, 7pm","mediumDate":"4 Aug 2025","shortDate":"2025-08-04","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":4,"month":"Aug","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-08-05T18:00:00.000Z","shortDate":"2025-08-05","month":"Aug","day":5,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-08-05T18:00:00.000Z","dateLong":"Tuesday, 5 August 2025, 7pm","mediumDate":"5 Aug 2025","shortDate":"2025-08-05","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":5,"month":"Aug","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-08-11T18:00:00.000Z","shortDate":"2025-08-11","month":"Aug","day":11,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-08-11T18:00:00.000Z","dateLong":"Monday, 11 August 2025, 7pm","mediumDate":"11 Aug 2025","shortDate":"2025-08-11","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":11,"month":"Aug","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-08-12T18:00:00.000Z","shortDate":"2025-08-12","month":"Aug","day":12,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-08-12T18:00:00.000Z","dateLong":"Tuesday, 12 August 2025, 7pm","mediumDate":"12 Aug 2025","shortDate":"2025-08-12","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":12,"month":"Aug","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-08-14T00:00:00.000Z","shortDate":"2025-08-14","month":"Aug","day":14,"weekday":"Thursday","year":"2025","class":"social","events":[{"name":"Board Games","date":"2025-08-14T00:00:00.000Z","class":"social","venue":"Dice Tower","time":"6pm","dateLong":"Thursday, 14 August 2025, undefined","mediumDate":"14 Aug 2025","shortDate":"2025-08-14","weekday":"Thursday","shortWeekday":"Thu","day":14,"month":"Aug","year":"2025","special":false,"address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-08-18T18:00:00.000Z","shortDate":"2025-08-18","month":"Aug","day":18,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-08-18T18:00:00.000Z","dateLong":"Monday, 18 August 2025, 7pm","mediumDate":"18 Aug 2025","shortDate":"2025-08-18","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":18,"month":"Aug","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-08-19T18:00:00.000Z","shortDate":"2025-08-19","month":"Aug","day":19,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-08-19T18:00:00.000Z","dateLong":"Tuesday, 19 August 2025, 7pm","mediumDate":"19 Aug 2025","shortDate":"2025-08-19","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":19,"month":"Aug","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-08-25T18:00:00.000Z","shortDate":"2025-08-25","month":"Aug","day":25,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-08-25T18:00:00.000Z","dateLong":"Monday, 25 August 2025, 7pm","mediumDate":"25 Aug 2025","shortDate":"2025-08-25","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":25,"month":"Aug","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-08-26T18:00:00.000Z","shortDate":"2025-08-26","month":"Aug","day":26,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-08-26T18:00:00.000Z","dateLong":"Tuesday, 26 August 2025, 7pm","mediumDate":"26 Aug 2025","shortDate":"2025-08-26","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":26,"month":"Aug","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-09-01T18:00:00.000Z","shortDate":"2025-09-01","month":"Sept","day":1,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-09-01T18:00:00.000Z","dateLong":"Monday, 1 September 2025, 7pm","mediumDate":"1 Sept 2025","shortDate":"2025-09-01","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":1,"month":"Sept","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-09-02T18:00:00.000Z","shortDate":"2025-09-02","month":"Sept","day":2,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-09-02T18:00:00.000Z","dateLong":"Tuesday, 2 September 2025, 7pm","mediumDate":"2 Sept 2025","shortDate":"2025-09-02","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":2,"month":"Sept","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false},{"date":"2025-09-08T18:00:00.000Z","shortDate":"2025-09-08","month":"Sept","day":8,"weekday":"Monday","year":"2025","class":"online","events":[{"date":"2025-09-08T18:00:00.000Z","dateLong":"Monday, 8 September 2025, 7pm","mediumDate":"8 Sept 2025","shortDate":"2025-09-08","time":"7pm","weekday":"Monday","shortWeekday":"Mon","day":8,"month":"Sept","year":"2025","name":"Nostalgia Monday","class":"online","venue":"Discord","address":"","hide":true}],"special":false,"hide":true},{"date":"2025-09-09T18:00:00.000Z","shortDate":"2025-09-09","month":"Sept","day":9,"weekday":"Tuesday","year":"2025","class":"anime","events":[{"date":"2025-09-09T18:00:00.000Z","dateLong":"Tuesday, 9 September 2025, 7pm","mediumDate":"9 Sept 2025","shortDate":"2025-09-09","time":"7pm","weekday":"Tuesday","shortWeekday":"Tue","day":9,"month":"Sept","year":"2025","name":"Anime Night","class":"anime","price":"&pound;4","venue":"The White Hart","address":"London Road, Basingstoke RG21 4AE"}],"special":false,"hide":false}];

var options = {"online":false,"hiatus":false,"hiatusMessage":"","comingSoonRows":3,"newsCutoff":0};

var ratingText = {"u": "Universal", "U": "Universal", "pg": "Parental Guidance", "PG": "Parental Guidance", "12": "12 and older", "15": "15 and older"};

var top10 = [{"name":"Terror in Resonance","picture":"terror-in-resonance","genre":["Thriller","Crime"]},{"name":"Erased","picture":"erased","genre":["Crime","Mystery"]},{"name":"Eden of the East","picture":"eden-of-the-east","genre":["Thriller","Mystery"]},{"name":"B: The Beginning","picture":"b-the-beginning","genre":["Thriller","Crime"]},{"name":"Death Note","picture":"death-note","genre":["Thriller","Shounen","Dark"]},{"name":"Astra: Lost in Space","picture":"astra-lost-in-space","genre":["Adventure","Sci fi","Mystery","Shounen"]},{"name":"Magatsu Wahrheit: ZUERST","picture":"magatsu-wahrheit-zuerst","genre":["War","Action","Mystery"]},{"name":"Everything Becomes F: The Perfect Insider","picture":"everything-becomes-f","genre":["Mystery","Crime","Thriller"]},{"name":"Code Geass","picture":"code-geass","genre":["Action","Adventure","War","Shounen"]},{"name":"Charlotte","picture":"charlotte","genre":["Action","Drama"]},{"name":"Working!","picture":"working","genre":["Comedy","Slice of life"]},{"name":"The Great Passage","picture":"great-passage","genre":["Slice of life","Drama"]},{"name":"Welcome to the NHK!","picture":"welcome-to-the-nhk","genre":["Slice of life","Comedy"]},{"name":"K-ON!","picture":"k-on","genre":["Comedy","Slice of life","Music"]},{"name":"Blue Spring Ride","picture":"blue-spring-ride","genre":["Romance","Slice of life"]},{"name":"Teasing Master Takagi","picture":"takagi-san","genre":["Romance","Slice of life","Comedy"]},{"name":"Non Non Biyori","picture":"non-non-biyori-non-stop","genre":["Comedy","Slice of life"]},{"name":"Hinamatsuri","picture":"hinamatsuri","genre":["Comedy","Slice of life"]},{"name":"Nichijou","picture":"nichijou","genre":["Comedy","Slice of life"]},{"name":"Sing Yesterday For Me","picture":"sing-yesterday","genre":["Drama","Romance","Slice of life"]},{"name":"Haibane Renmei","picture":"haibane-renmei","genre":["Drama","Slice of life","Mystery"]},{"name":"Violet Evergarden","picture":"violet-evergarden","genre":["Drama","War"]},{"name":"Crest of the Stars","picture":"crest-of-the-stars","genre":["Sci fi","Action","Romance","War"]},{"name":"Fullmetal Alchemist","picture":"fullmetal-alchemist","genre":["Action","Adventure","War","Shounen"]},{"name":"Higurashi: When They Cry","picture":"higurashi","genre":["Mystery","Crime","Drama","Dark"]},{"name":"Baccano!","picture":"baccano","genre":["Crime","Action","Mystery"]},{"name":"Bamboo Blade","picture":"bamboo-blade","genre":["Comedy","Slice of life","Sports"]},{"name":"Steins;Gate","picture":"steins-gate","genre":["Sci fi","Drama","Mystery"]},{"name":"Your Name","picture":"your-name","genre":["Romance","Mystery"]},{"name":"Monthly Girls' Nozaki-kun","picture":"nozaki-kun","genre":["Comedy","Romance"]},{"name":"Frieren: Beyond Journey's End","picture":"frieren","genre":["Romance","Drama","Adventure"]},{"name":"Apothecary Diaries","picture":"apothecary-diaries","genre":["Mystery","Drama"]},{"name":"Delicious in Dungeon","picture":"delicious-in-dungeon","genre":["Adventure","Drama","Comedy"]},{"name":"Great Pretender","picture":"great-pretender","genre":["Mystery","Adventure"]},{"name":"Oshi no Ko","picture":"oshi-no-ko","genre":["Mystery","Drama","Slice of life"]},{"name":"Mushoku Tensei: Jobless Reincarnation","picture":"mushoku-tensei","genre":["Isekai","Adventure","Drama"]},{"name":"Orb: On the Movements of the Earth","picture":"orb","genre":["Drama"]},{"name":"Lycoris Recoil","picture":"lycoris-recoil","genre":["Action","Mystery"]},{"name":"Spy Ã Family","picture":"spy-x-family","genre":["Comedy","Action","Adventure"]},{"name":"Insomniacs After School","picture":"insomnia","genre":["Slice of life","Romance"]},{"name":"Girls Band Cry","picture":"girls-band-cry","genre":["Music","Drama"]},{"name":"Eureka Seven","picture":"eureka-seven","genre":["Action","Adventure","Mystery","Mecha","Sci fi"]},{"name":"Last Exile","picture":"last-exile","genre":["Action","Adventure","Mystery","War"]},{"name":"Alderamin on the Sky","picture":"alderamin-on-the-sky","genre":["War","Action"]},{"name":"Hinamatsuri","picture":"hinamatsuri","genre":["Comedy","Slice of life"]},{"name":"My Love Story!","picture":"oremonogatari","genre":["Romance","Comedy","Slice of life"]},{"name":"Miss Kobayashi's Dragon Maid","picture":"kobayashi-dragon-maid","genre":["Comedy","Romance","Slice of life"]},{"name":"Bunny Drop","picture":"bunny-drop","genre":["Slice of life","Drama"]},{"name":"Oban Star Racers","picture":"oban-star-racers","genre":["Action","Adventure","Sci fi","Shounen"]},{"name":"From The New World","picture":"shinsekai-yori","genre":["Mystery","Drama","Dark"]},{"name":"Carole & Tuesday","picture":"carole-and-tuesday","genre":["Music","Drama","Sci fi"]},{"name":"BOFURI","picture":"bofuri","genre":["Comedy","Slice of life","Isekai"]},{"name":"The Third","picture":"the-third","genre":["Sci fi","Action"]},{"name":"The Ancient Magus' Bride","picture":"ancient-magus-bride","genre":["Adventure","Drama","Romance"]},{"name":"Golden Kamuy","picture":"golden-kamuy","genre":["Adventure","Shounen"]},{"name":"Konosuba","picture":"konosuba-legend-of-crimson","genre":["Comedy","Isekai"]},{"name":"Death Parade","picture":"death-parade","genre":["Mystery","Drama","Dark"]},{"name":"Free!","picture":"free","genre":["Slice of life","Sports"]},{"name":"No Game No Life","picture":"no-game-no-life","genre":["Comedy","Isekai","Adventure"]},{"name":"Stellvia of the Universe","picture":"stellvia","genre":["Sci fi","Adventure"]},{"name":"Black Butler","picture":"black-butler","genre":["Adventure","Dark"]},{"name":"Made In Abyss","picture":"made-in-abyss","genre":["Adventure","Drama","Mystery","Dark"]},{"name":"Log Horizon","picture":"log-horizon","genre":["Isekai","Action","Adventure","Drama","Shounen"]},{"name":"MegaloBox","picture":"megalobox","genre":["Sports","Drama"]},{"name":"Kids on the Slope","picture":"kids-on-the-slope","genre":["Music","Slice of life","Romance"]},{"name":"Dragonball","picture":"dragonball","genre":["Action","Shounen"]},{"name":"Tamako Market","picture":"tamako-market","genre":["Slice of life","Romance"]},{"name":"The Promised Neverland","picture":"promised-neverland","genre":["Adventure","Thriller","Dark"]},{"name":"Howl's Moving Castle","picture":"howls-moving-castle","genre":["Adventure","Romance"]},{"name":"Silver Spoon","picture":"silver-spoon","genre":["Slice of life"]},{"name":"No.6","picture":"no6","genre":["Thriller","Adventure","Sci fi"]},{"name":"Yuru Camp","picture":"yuru-camp-s2","genre":["Slice of life"]},{"name":"Eizouken ni wa Te wo Dasu na!","picture":"eizouken","genre":["Slice of life","Comedy"]},{"name":"The Irresponsible Captain Tylor","picture":"irresponsible-captain-tylor","genre":["Comedy","Sci fi","Adventure"]},{"name":"Adolescense of Utena","picture":"utena","genre":["Drama"]},{"name":"Fantastic Children","picture":"fantastic-children","genre":["Adventure","Mystery"]},{"name":"Re:Creators","picture":"re-creators","genre":["Isekai","Action","Shounen","Mecha"]},{"name":"Laputa: Castle In The Sky","picture":"laputa","genre":["Adventure"]},{"name":"Bloom Into You","picture":"bloom-into-you","genre":["Romance","Drama"]},{"name":"Ghost Hound","picture":"ghost-hound","genre":["Mystery"]},{"name":"Simoun","picture":"simoun","genre":["Mystery","Romance","Sci fi"]},{"name":"Doughnuts Under A Crescent Moon","picture":"doughnuts-under-a-crescent-moon-manga","genre":["Romance","Slice of life"]},{"name":"Maria is watching us","picture":"mari-mite","genre":["Romance","Drama"]},{"name":"After Hours","picture":"after-hours-manga","genre":["Romance"]},{"name":"R.O.D the TV","picture":"rod","genre":["Action","Adventure","Comedy"]},{"name":"Catch These Hands!","picture":"catch-these-hands-manga","genre":["Comedy","Romance","Slice of life"]},{"name":"Canaan","picture":"canaan","genre":["Action","Adventure","Romance"]},{"name":"Hayate X Blade","picture":"hayate-x-blade-manga","genre":["Action","Comedy"]},{"name":"Whispered Words","picture":"whispered-words-manga","genre":["Comedy","Drama","Romance"]},{"name":"New Game!","picture":"new-game","genre":["Comedy"]},{"name":"School Zone","picture":"school-zone","genre":["Comedy","Romance"]}];

var historyYears = ["2025","2024","2023","2022","2021","2020"];
var ancientHistory = [{"name":"2015-2019","anime":[{"name":"Terror in Resonance","picture":"terror-in-resonance"},{"name":"Amagi Brilliant Park","picture":"amagi-brilliant-park"},{"name":"No Game No Life","picture":"no-game-no-life"},{"name":"Parasyte The Maxim","picture":"parasyte-the-maxim"},{"name":"GATE","picture":"gate"},{"name":"One Punch Man","picture":"one-punch-man"},{"name":"Erased","picture":"erased"},{"name":"The Perfect Insider: Everything Becomes F","picture":"the-perfect-insider-everything-becomes-f"},{"name":"Konosuba","picture":"konosuba"},{"name":"Tamako Market","picture":"tamako-market"},{"name":"Re:Zero","picture":"re-zero"},{"name":"Megalo Box","picture":"megalobox"},{"name":"Banana Fish","picture":"banana-fish"},{"name":"Coffin Princess Chaika","picture":"coffin-princess-chaika"},{"name":"Shirobako","picture":"shirobako"},{"name":"Death Parade","picture":"death-parade"},{"name":"Alderamin on the Sky","picture":"alderamin-on-the-sky"},{"name":"Akatsuki no Yona","picture":"akatsuki-no-yona"},{"name":"Barakamon","picture":"barakamon"},{"name":"Little Witch Academia","picture":"little-witch-academia"},{"name":"Made In Abyss","picture":"made-in-abyss"},{"name":"Re_Creators","picture":"re-creators"},{"name":"Princess Principal","picture":"princess-principal"},{"name":"Violet Evergarden","picture":"violet-evergarden"},{"name":"Wotakoi","picture":"wotakoi"}]},{"name":"2010-2014","anime":[{"name":"Tales of the Abyss","picture":"tales-of-the-abyss"},{"name":"A Certain Magical Index","picture":"a-certain-magical-index"},{"name":"A Certain Scientific Railgun","picture":"a-certain-scientific-railgun"},{"name":"Kimi ni Todoke","picture":"kimi-ni-todoke"},{"name":"Working!","picture":"working"},{"name":"Level E","picture":"level-e"},{"name":"Steins;Gate","picture":"steins-gate"},{"name":"Gosick","picture":"gosick"},{"name":"Hyouka","picture":"hyouka"},{"name":"Psycho-Pass","picture":"psycho-pass"},{"name":"Servant x Service","picture":"servant-x-service"},{"name":"Bakuman","picture":"bakuman"},{"name":"Kokoro Connect","picture":"kokoro-connect"},{"name":"Log Horizon","picture":"log-horizon"},{"name":"Lucky Star","picture":"lucky-star"},{"name":"K-ON!","picture":"k-on"},{"name":"Nichijou","picture":"nichijou"},{"name":"Future Diary","picture":"future-diary"},{"name":"Yuru Yuri","picture":"yuru-yuri"},{"name":"Daily Lives of High School Boys","picture":"daily-lives-of-high-school-boys"},{"name":"Silver Spoon","picture":"silver-spoon"},{"name":"Non Non Biyori","picture":"non-non-biyori"},{"name":"Eccentric Family","picture":"eccentric-family"}]},{"name":"2006-2009","anime":[{"name":"Death Note","picture":"death-note"},{"name":"Baccano!","picture":"baccano"},{"name":"The Third","picture":"the-third"},{"name":"Ghost Hound","picture":"ghost-hound"},{"name":"Bamboo Blade","picture":"bamboo-blade"},{"name":"Eden of the East","picture":"eden-of-the-east"},{"name":"Rideback","picture":"rideback"},{"name":"Genshiken","picture":"genshiken"},{"name":"Record of Lodoss War","picture":"record-of-lodoss-war"}]}];
var allAnime = [{"from":"2019-01-08T20:00:00.000Z","name":"Hunter &times; Hunter","picture":"hunter-x-hunter","date":"2019-01-08T20:00:00.000Z","day":8,"month":"Jan","weekday":"Tuesday","year":"2019"},{"from":"2019-11-26T19:00:00.000Z","name":"Sagrada Reset","picture":"sagrada-reset","date":"2019-11-26T19:00:00.000Z","day":26,"month":"Nov","weekday":"Tuesday","year":"2019"},{"from":"2020-02-18T21:00:00.000Z","name":"Kaguya-sama, Love is War","picture":"kaguya-sama","date":"2020-02-18T21:00:00.000Z","day":18,"month":"Feb","weekday":"Tuesday","year":"2020"},{"from":"2020-03-03T19:00:00.000Z","name":"The Great Passage","picture":"great-passage","solo":8,"date":"2020-03-03T19:00:00.000Z","day":3,"month":"Mar","weekday":"Tuesday","year":"2020"},{"from":"2020-05-05T20:00:00.000Z","name":"Hinamatsuri","picture":"hinamatsuri","date":"2020-05-05T20:00:00.000Z","day":5,"month":"May","weekday":"Tuesday","year":"2020"},{"from":"2020-05-19T18:00:00.000Z","name":"Golden Kamuy","picture":"golden-kamuy","date":"2020-05-19T18:00:00.000Z","day":19,"month":"May","weekday":"Tuesday","year":"2020"},{"from":"2020-06-16T20:00:00.000Z","name":"Demi-chan wa Kataritai","picture":"demi-chan","date":"2020-06-16T20:00:00.000Z","day":16,"month":"Jun","weekday":"Tuesday","year":"2020"},{"from":"2020-07-28T19:00:00.000Z","name":"Spice and Wolf","picture":"spice-and-wolf","date":"2020-07-28T19:00:00.000Z","day":28,"month":"Jul","weekday":"Tuesday","year":"2020"},{"from":"2020-07-28T20:00:00.000Z","name":"Chio's School Road","picture":"chios-school-road","date":"2020-07-28T20:00:00.000Z","day":28,"month":"Jul","weekday":"Tuesday","year":"2020"},{"from":"2020-08-18T18:00:00.000Z","name":"Freedom","picture":"freedom","date":"2020-08-18T18:00:00.000Z","day":18,"month":"Aug","weekday":"Tuesday","year":"2020"},{"from":"2020-09-08T20:00:00.000Z","name":"Konosuba S2","picture":"konosuba2","date":"2020-09-08T20:00:00.000Z","day":8,"month":"Sept","weekday":"Tuesday","year":"2020"},{"from":"2020-09-15T18:00:00.000Z","name":"The Promised Neverland","picture":"promised-neverland","date":"2020-09-15T18:00:00.000Z","day":15,"month":"Sept","weekday":"Tuesday","year":"2020"},{"from":"2020-10-20T20:00:00.000Z","name":"Zombieland Saga","picture":"zombieland-saga","date":"2020-10-20T20:00:00.000Z","day":20,"month":"Oct","weekday":"Tuesday","year":"2020"},{"from":"2020-10-27T19:00:00.000Z","name":"Rascal Does Not Dream of Bunny Girl Senpai","picture":"bunny-girl-senpai","date":"2020-10-27T19:00:00.000Z","day":27,"month":"Oct","weekday":"Tuesday","year":"2020"},{"from":"2020-11-03T20:00:00.000Z","name":"Hisone &amp; Maso-tan","picture":"hisone-masotan","date":"2020-11-03T20:00:00.000Z","day":3,"month":"Nov","weekday":"Tuesday","year":"2020"},{"from":"2020-12-01T21:00:00.000Z","name":"Wasteful Days of High School Girls","picture":"wasteful-days","rating":15,"date":"2020-12-01T21:00:00.000Z","day":1,"month":"Dec","weekday":"Tuesday","year":"2020"},{"from":"2021-01-05T19:00:00.000Z","displayFrom":"2020-12-08T00:00:00.000Z","name":"Xam'd: Lost Memories","picture":"xamd","rating":12,"date":"2021-01-05T19:00:00.000Z","day":5,"month":"Jan","weekday":"Tuesday","year":"2021"},{"from":"2021-01-05T20:00:00.000Z","displayFrom":"2020-12-08T00:00:00.000Z","name":"Astra: Lost in Space","picture":"astra-lost-in-space","rating":12,"date":"2021-01-05T20:00:00.000Z","day":5,"month":"Jan","weekday":"Tuesday","year":"2021"},{"from":"2021-01-26T21:00:00.000Z","name":"Flying Witch","picture":"flying-witch","rating":12,"date":"2021-01-26T21:00:00.000Z","day":26,"month":"Jan","weekday":"Tuesday","year":"2021"},{"from":"2021-02-23T20:00:00.000Z","name":"Ore Monogatari","picture":"oremonogatari","rating":12,"date":"2021-02-23T20:00:00.000Z","day":23,"month":"Feb","weekday":"Tuesday","year":"2021"},{"from":"2021-03-09T21:00:00.000Z","name":"Keep Your Hands Off Eizouken!","picture":"eizouken","rating":12,"date":"2021-03-09T21:00:00.000Z","day":9,"month":"Mar","weekday":"Tuesday","year":"2021"},{"from":"2021-04-06T18:00:00.000Z","name":"The Ancient Magus' Bride","picture":"ancient-magus-bride","rating":15,"date":"2021-04-06T18:00:00.000Z","day":6,"month":"Apr","weekday":"Tuesday","year":"2021"},{"from":"2021-04-20T20:00:00.000Z","name":"Kaguya-sama, Love is War S2","picture":"kaguya-sama2","rating":12,"date":"2021-04-20T20:00:00.000Z","day":20,"month":"Apr","weekday":"Tuesday","year":"2021"},{"from":"2021-05-18T19:00:00.000Z","name":"Assassination Classroom","picture":"assassination-classroom","rating":15,"date":"2021-05-18T19:00:00.000Z","day":18,"month":"May","weekday":"Tuesday","year":"2021"},{"from":"2021-06-01T20:00:00.000Z","name":"My Next Life as a Villainess: All Routes Lead to Doom!","picture":"hamefura","rating":12,"date":"2021-06-01T20:00:00.000Z","day":1,"month":"Jun","weekday":"Tuesday","year":"2021"},{"from":"2021-07-13T18:00:00.000Z","name":"Golden Kamuy Third Season","picture":"golden-kamuy","rating":15,"date":"2021-07-13T18:00:00.000Z","day":13,"month":"Jul","weekday":"Tuesday","year":"2021"},{"from":"2021-07-13T20:00:00.000Z","name":"Sound of the Sky","picture":"sound-of-the-sky","rating":12,"date":"2021-07-13T20:00:00.000Z","day":13,"month":"Jul","weekday":"Tuesday","year":"2021"},{"from":"2021-08-03T19:00:00.000Z","name":"Bunny Drop","picture":"bunny-drop","rating":"pg","date":"2021-08-03T19:00:00.000Z","day":3,"month":"Aug","weekday":"Tuesday","year":"2021"},{"from":"2021-08-24T18:00:00.000Z","name":"Legend of the Galactic Heroes: Die Neue These","picture":"legend-of-galactic-heroes","rating":15,"date":"2021-08-24T18:00:00.000Z","day":24,"month":"Aug","weekday":"Tuesday","year":"2021"},{"from":"2021-08-31T20:00:00.000Z","name":"BOFURI","picture":"bofuri","rating":12,"date":"2021-08-31T20:00:00.000Z","day":31,"month":"Aug","weekday":"Tuesday","year":"2021"},{"from":"2021-09-14T19:00:00.000Z","name":"Carole & Tuesday","picture":"carole-and-tuesday","rating":15,"date":"2021-09-14T19:00:00.000Z","day":14,"month":"Sept","weekday":"Tuesday","year":"2021"},{"from":"2021-10-12T20:00:00.000Z","name":"Yuru Camp S2","picture":"yuru-camp-s2","rating":"pg","date":"2021-10-12T20:00:00.000Z","day":12,"month":"Oct","weekday":"Tuesday","year":"2021"},{"from":"2021-11-16T19:00:00.000Z","name":"Time of Eve","picture":"time-of-eve","rating":"pg","date":"2021-11-16T19:00:00.000Z","day":16,"month":"Nov","weekday":"Tuesday","year":"2021"},{"from":"2021-11-30T21:00:00.000Z","name":"Tonikawa: Over The Moon For You","picture":"tonikawa","rating":12,"date":"2021-11-30T21:00:00.000Z","day":30,"month":"Nov","weekday":"Tuesday","year":"2021"},{"from":"2021-12-01T20:00:00.000Z","name":"","picture":"","date":"2021-12-01T20:00:00.000Z","day":1,"month":"Dec","weekday":"Wednesday","year":"2021"},{"from":"2021-12-07T19:00:00.000Z","name":"Empire of Corpses","picture":"empire-of-corpses","movie":true,"rating":15,"preview":false,"date":"2021-12-07T19:00:00.000Z","day":7,"month":"Dec","weekday":"Tuesday","year":"2021"},{"from":"2021-12-14T19:00:00.000Z","name":"Burn The Witch","picture":"burn-the-witch","rating":12,"date":"2021-12-14T19:00:00.000Z","day":14,"month":"Dec","weekday":"Tuesday","year":"2021"},{"from":"2022-01-04T19:00:00.000Z","displayFrom":"2021-12-15T00:00:00.000Z","name":"Last Exile","picture":"last-exile","rating":15,"date":"2022-01-04T19:00:00.000Z","day":4,"month":"Jan","weekday":"Tuesday","year":"2022"},{"from":"2022-01-04T20:00:00.000Z","displayFrom":"2021-12-15T00:00:00.000Z","name":"Assassination Classroom Season 2","picture":"assassination-classroom","rating":15,"date":"2022-01-04T20:00:00.000Z","day":4,"month":"Jan","weekday":"Tuesday","year":"2022"},{"from":"2022-01-25T21:00:00.000Z","name":"Zombieland Saga: Revenge","picture":"zombieland-saga-revenge","rating":15,"date":"2022-01-25T21:00:00.000Z","day":25,"month":"Jan","weekday":"Tuesday","year":"2022"},{"from":"2022-03-15T21:00:00.000Z","name":"Non Non Biyori Non Stop","picture":"non-non-biyori-non-stop","rating":"pg","date":"2022-03-15T21:00:00.000Z","day":15,"month":"Mar","weekday":"Tuesday","year":"2022"},{"from":"2022-04-12T18:00:00.000Z","name":"Ranpo Kitan: Game of Laplace","picture":"ranpo-kitan","rating":15,"date":"2022-04-12T18:00:00.000Z","day":12,"month":"Apr","weekday":"Tuesday","year":"2022"},{"from":"2022-04-12T19:00:00.000Z","name":"Maoyuu: Maou Yuusha","picture":"maoyuu","rating":15,"date":"2022-04-12T19:00:00.000Z","day":12,"month":"Apr","weekday":"Tuesday","year":"2022"},{"from":"2022-04-26T20:00:00.000Z","name":"Recovery of an MMO Junkie","picture":"mmo-junkie","rating":12,"date":"2022-04-26T20:00:00.000Z","day":26,"month":"Apr","weekday":"Tuesday","year":"2022"},{"from":"2022-05-24T18:00:00.000Z","name":"Aldnoah.Zero","picture":"aldnoah-zero","rating":15,"date":"2022-05-24T18:00:00.000Z","day":24,"month":"May","weekday":"Tuesday","year":"2022"},{"from":"2022-05-24T19:00:00.000Z","name":"Dr Stone","picture":"dr-stone","rating":12,"date":"2022-05-24T19:00:00.000Z","day":24,"month":"May","weekday":"Tuesday","year":"2022"},{"from":"2022-05-31T20:00:00.000Z","name":"Kino's Journey","picture":"kinos-journey","rating":12,"date":"2022-05-31T20:00:00.000Z","day":31,"month":"May","weekday":"Tuesday","year":"2022"},{"from":"2022-07-05T18:00:00.000Z","name":"Talentless Nana","picture":"talentless-nana","rating":15,"date":"2022-07-05T18:00:00.000Z","day":5,"month":"Jul","weekday":"Tuesday","year":"2022"},{"from":"2022-07-12T20:00:00.000Z","name":"By the Grace of the Gods","picture":"by-the-grace-of-the-gods","rating":12,"date":"2022-07-12T20:00:00.000Z","day":12,"month":"Jul","weekday":"Tuesday","year":"2022"},{"from":"2022-08-23T18:00:00.000Z","name":"Aldnoah.Zero part 2","picture":"aldnoah-zero","rating":15,"date":"2022-08-23T18:00:00.000Z","day":23,"month":"Aug","weekday":"Tuesday","year":"2022"},{"from":"2022-08-23T20:00:00.000Z","name":"Love, Chunibyou & Other Delusions","picture":"chunibyou","rating":12,"date":"2022-08-23T20:00:00.000Z","day":23,"month":"Aug","weekday":"Tuesday","year":"2022"},{"from":"2022-09-27T19:00:00.000Z","name":"Beyond The Boundary","picture":"beyond-the-boundary","rating":15,"date":"2022-09-27T19:00:00.000Z","day":27,"month":"Sept","weekday":"Tuesday","year":"2022"},{"from":"2022-10-04T18:00:00.000Z","name":"Moriarty The Patriot","picture":"moriarty","rating":15,"date":"2022-10-04T18:00:00.000Z","day":4,"month":"Oct","weekday":"Tuesday","year":"2022"},{"from":"2022-10-04T20:00:00.000Z","name":"Wave, Listen to Me!","picture":"wave-listen-to-me","rating":12,"date":"2022-10-04T20:00:00.000Z","day":4,"month":"Oct","weekday":"Tuesday","year":"2022"},{"from":"2022-11-08T20:00:00.000Z","name":"That Time I Got Reincarnated as a Slime","picture":"tensura","rating":15,"date":"2022-11-08T20:00:00.000Z","day":8,"month":"Nov","weekday":"Tuesday","year":"2022"},{"from":"2022-11-15T21:00:00.000Z","name":"My Senpai is Annoying","picture":"senpai-ga-uzai","rating":15,"genre":["Romance","Comedy"],"date":"2022-11-15T21:00:00.000Z","day":15,"month":"Nov","weekday":"Tuesday","year":"2022"},{"from":"2023-01-10T19:00:00.000Z","displayFrom":"2022-12-22T00:00:00.000Z","name":"Kabaneri of the Iron Fortress","picture":"kabaneri","rating":15,"genre":["Action","Dark","War"],"date":"2023-01-10T19:00:00.000Z","day":10,"month":"Jan","weekday":"Tuesday","year":"2023"},{"from":"2023-01-10T21:00:00.000Z","displayFrom":"2022-12-22T00:00:00.000Z","name":"Snow White with the Red Hair","picture":"snow-white-red-hair","rating":12,"genre":["Romance","Adventure"],"episodes":[{"episode":"OVA","before":13,"show":"single"},{"end":24}],"date":"2023-01-10T21:00:00.000Z","day":10,"month":"Jan","weekday":"Tuesday","year":"2023"},{"from":"2023-02-14T20:00:00.000Z","name":"BNA: Brand New Animal","picture":"bna","rating":12,"genre":["Action","Adventure","Mystery"],"date":"2023-02-14T20:00:00.000Z","day":14,"month":"Feb","weekday":"Tuesday","year":"2023"},{"from":"2023-02-21T19:00:00.000Z","name":"Haibane Renmei","picture":"haibane-renmei","rating":12,"genre":["Drama","Mystery"],"episodes":[{"count":13},{"episode":7,"show":"single"}],"date":"2023-02-21T19:00:00.000Z","day":21,"month":"Feb","weekday":"Tuesday","year":"2023"},{"from":"2023-03-28T19:00:00.000Z","name":"Sakugan","picture":"sakugan","rating":12,"genre":["Adventure","Action","Mystery"],"date":"2023-03-28T19:00:00.000Z","day":28,"month":"Mar","weekday":"Tuesday","year":"2023"},{"from":"2023-04-11T18:00:00.000Z","name":"Eureka Seven","picture":"eureka-seven","rating":12,"genre":["Adventure","Action","Shounen"],"count":50,"episodes":[{"episode":50,"show":"more"},{"episode":"50.1","after":50}],"date":"2023-04-11T18:00:00.000Z","day":11,"month":"Apr","weekday":"Tuesday","year":"2023"},{"from":"2023-04-11T20:00:00.000Z","name":"Kaguya-sama, Love is War: Ultra Romantic","picture":"kaguya-sama3","rating":12,"count":13,"genre":["Romance","Comedy"],"episodes":[{"episode":5,"show":"single"}],"date":"2023-04-11T20:00:00.000Z","day":11,"month":"Apr","weekday":"Tuesday","year":"2023"},{"from":"2023-05-09T19:00:00.000Z","name":"The Aquatope on White Sand","picture":"aquatope","rating":"pg","count":12,"genre":["Drama","Slice of life"],"date":"2023-05-09T19:00:00.000Z","day":9,"month":"May","weekday":"Tuesday","year":"2023"},{"from":"2023-05-30T20:00:00.000Z","name":"Slime Diaries","picture":"tensura","rating":"pg","genre":["Slice of life","Comedy","Isekai"],"episodes":[{"end":12}],"date":"2023-05-30T20:00:00.000Z","day":30,"month":"May","weekday":"Tuesday","year":"2023"},{"from":"2023-06-20T19:00:00.000Z","name":"Appare-Ranman","picture":"appare-ranman","rating":15,"count":13,"genre":["Adventure","Shounen","Action"],"episodes":[{"episode":9,"show":"single"}],"date":"2023-06-20T19:00:00.000Z","day":20,"month":"Jun","weekday":"Tuesday","year":"2023"},{"from":"2023-07-11T20:00:00.000Z","name":"Taisho Otome Fairy Tale","picture":"taisho-otome","genre":["Romance","Drama"],"rating":12,"episodes":[{"end":12}],"date":"2023-07-11T20:00:00.000Z","day":11,"month":"Jul","weekday":"Tuesday","year":"2023"},{"from":"2023-08-08T19:00:00.000Z","name":"The Aquatope on White Sand pt2","picture":"aquatope","rating":"pg","genre":["Slice of life","Drama"],"episodes":[{"start":13},{"end":24}],"date":"2023-08-08T19:00:00.000Z","day":8,"month":"Aug","weekday":"Tuesday","year":"2023"},{"from":"2023-08-22T20:00:00.000Z","name":"Spy &times; Family","picture":"spy-x-family","rating":"15","genre":["Comedy","Action","Adventure"],"count":25,"episodes":[{"episode":15,"show":"single"}],"date":"2023-08-22T20:00:00.000Z","day":22,"month":"Aug","weekday":"Tuesday","year":"2023"},{"from":"2023-09-19T19:00:00.000Z","name":"Mushi-Shi","picture":"mushishi","rating":"12","genre":["Slice of life","Mystery"],"count":26,"date":"2023-09-19T19:00:00.000Z","day":19,"month":"Sept","weekday":"Tuesday","year":"2023"},{"from":"2023-10-03T18:00:00.000Z","name":"Tenrou: Sirius the Jaeger","picture":"sirius-the-jaeger","rating":"15","genre":["Action","Mystery"],"count":12,"date":"2023-10-03T18:00:00.000Z","day":3,"month":"Oct","weekday":"Tuesday","year":"2023"},{"from":"2023-11-14T19:00:00.000Z","name":"Irina: The Vampire Cosmonaut","picture":"tsuki-to-laika-to-nosferatu","rating":"15","genre":["Sci fi","Slice of life"],"count":12,"date":"2023-11-14T19:00:00.000Z","day":14,"month":"Nov","weekday":"Tuesday","year":"2023"},{"from":"2023-11-21T21:00:00.000Z","name":"Restaurant to Another World","picture":"restaurant-to-another-world","rating":"15","genre":["Slice of life"],"episodes":[{"end":12},{"episode":9,"delayto":"2024-01-09T00:00:00.000Z"}],"date":"2023-11-21T21:00:00.000Z","day":21,"month":"Nov","weekday":"Tuesday","year":"2023"},{"from":"2023-12-19T20:00:00.000Z","name":"Kaguya-sama, Love is War: The First Kiss Never Ends","picture":"kaguya-sama-movie","movie":true,"rating":"12","genre":["Romance","Comedy"],"count":4,"episodes":[{"episode":2,"show":"more"},{"episode":3,"show":"more"},{"episode":4,"show":"more"}],"date":"2023-12-19T20:00:00.000Z","day":19,"month":"Dec","weekday":"Tuesday","year":"2023"},{"from":"2024-01-09T19:00:00.000Z","displayFrom":"2023-12-20T00:00:00.000Z","name":"Magatsu Wahrheit Zuerst","picture":"magatsu-wahrheit-zuerst","rating":"15","genre":["War","Drama"],"count":12,"date":"2024-01-09T19:00:00.000Z","day":9,"month":"Jan","weekday":"Tuesday","year":"2024"},{"from":"2024-01-09T20:00:00.000Z","displayFrom":"2023-12-20T00:00:00.000Z","name":"That Time I Got Reincarnated As A Slime II","picture":"tensura","rating":15,"genre":["Isekai","Adventure"],"count":24,"episodes":[{"episode":0,"before":1},{"episode":"OVA 3","before":1},{"episode":"OVA 4","before":1},{"episode":"OVA 5","before":1}],"date":"2024-01-09T20:00:00.000Z","day":9,"month":"Jan","weekday":"Tuesday","year":"2024"},{"from":"2024-01-23T21:00:00.000Z","name":"Horimiya","picture":"horimiya","rating":12,"genre":["Romance","Drama","Comedy"],"count":13,"episodes":[{"episode":7,"show":"single"}],"date":"2024-01-23T21:00:00.000Z","day":23,"month":"Jan","weekday":"Tuesday","year":"2024"},{"from":"2024-02-20T19:00:00.000Z","name":"ODDTAXI","picture":"oddtaxi","rating":12,"genre":["Mystery","Crime","Drama"],"count":13,"episodes":[{"episode":5,"show":"single"}],"date":"2024-02-20T19:00:00.000Z","day":20,"month":"Feb","weekday":"Tuesday","year":"2024"},{"from":"2024-03-12T21:00:00.000Z","name":"Arte","picture":"arte","rating":12,"genre":["Drama"],"count":12,"date":"2024-03-12T21:00:00.000Z","day":12,"month":"Mar","weekday":"Tuesday","year":"2024"},{"from":"2024-04-09T18:00:00.000Z","name":"Megalobox 2: NOMAD","picture":"nomad","rating":"pg","genre":["Drama"],"count":13,"episodes":[{"episode":7,"show":"single"}],"date":"2024-04-09T18:00:00.000Z","day":9,"month":"Apr","weekday":"Tuesday","year":"2024"},{"from":"2024-04-16T19:00:00.000Z","name":"Hibike! Euphonium","picture":"hibike-euphonium","rating":"pg","genre":["Romance","Slice of life"],"count":13,"episodes":[{"episode":9,"show":"single"}],"date":"2024-04-16T19:00:00.000Z","day":16,"month":"Apr","weekday":"Tuesday","year":"2024"},{"from":"2024-04-23T20:00:00.000Z","name":"Spy &times; Family S2","picture":"spy-x-family","rating":15,"genre":["Comedy","Action","Adventure"],"count":12,"date":"2024-04-23T20:00:00.000Z","day":23,"month":"Apr","weekday":"Tuesday","year":"2024"},{"from":"2024-05-28T18:00:00.000Z","name":"Vinland Saga","picture":"vinland-saga","rating":15,"count":24,"genre":["Action","Adventure","Drama"],"date":"2024-05-28T18:00:00.000Z","day":28,"month":"May","weekday":"Tuesday","year":"2024"},{"from":"2024-06-04T19:00:00.000Z","name":"Cannon Busters","picture":"cannon-busters","rating":12,"genre":["Action","Adventure"],"count":12,"date":"2024-06-04T19:00:00.000Z","day":4,"month":"Jun","weekday":"Tuesday","year":"2024"},{"from":"2024-06-04T20:00:00.000Z","name":"Horimiya: Piece","picture":"horimiya","rating":15,"genre":["Romance","Drama","Comedy"],"count":13,"episodes":[{"episode":7,"show":"single"}],"date":"2024-06-04T20:00:00.000Z","day":4,"month":"Jun","weekday":"Tuesday","year":"2024"},{"from":"2024-07-16T19:00:00.000Z","name":"Dr Stone: New World","picture":"dr-stone","rating":12,"genre":["Action","Adventure"],"count":23,"episodes":[{"episode":"Ryusui","before":1,"show":"single"}],"date":"2024-07-16T19:00:00.000Z","day":16,"month":"Jul","weekday":"Tuesday","year":"2024"},{"from":"2024-07-23T20:00:00.000Z","name":"Ya Boy Kongming!","picture":"ya-boy-kongming","rating":15,"genre":["Music","Isekai"],"count":12,"date":"2024-07-23T20:00:00.000Z","day":23,"month":"Jul","weekday":"Tuesday","year":"2024"},{"from":"2024-08-20T18:00:00.000Z","name":"Sing Yesterday For Me","picture":"sing-yesterday","rating":12,"count":12,"genre":["Drama","Romance"],"date":"2024-08-20T18:00:00.000Z","day":20,"month":"Aug","weekday":"Tuesday","year":"2024"},{"from":"2024-09-03T20:00:00.000Z","name":"Aharen is Indecipherable","picture":"aharen-san","rating":12,"genre":["Comedy"],"count":12,"date":"2024-09-03T20:00:00.000Z","day":3,"month":"Sept","weekday":"Tuesday","year":"2024"},{"from":"2024-10-01T18:00:00.000Z","name":"Vinland Saga S2","picture":"vinland-saga","rating":15,"count":24,"date":"2024-10-01T18:00:00.000Z","day":1,"month":"Oct","weekday":"Tuesday","year":"2024"},{"from":"2024-10-08T19:00:00.000Z","name":"Buddy Daddies","picture":"buddy-daddies","rating":15,"genre":["Action","Comedy"],"count":12,"date":"2024-10-08T19:00:00.000Z","day":8,"month":"Oct","weekday":"Tuesday","year":"2024"},{"from":"2024-10-15T20:00:00.000Z","name":"Tonikawa: Over The Moon For You S2","picture":"tonikawa","rating":12,"genre":["Romance","Comedy"],"count":12,"date":"2024-10-15T20:00:00.000Z","day":15,"month":"Oct","weekday":"Tuesday","year":"2024"},{"from":"2024-11-19T20:00:00.000Z","name":"Planetes","picture":"planetes","rating":12,"count":26,"episodes":[{"episode":11,"delayto":"2025-01-07T00:00:00.000Z"}],"date":"2024-11-19T20:00:00.000Z","day":19,"month":"Nov","weekday":"Tuesday","year":"2024"},{"from":"2024-11-26T21:00:00.000Z","name":"Himouto! Umaru-chan","picture":"himouto","genre":["Comedy"],"count":12,"rating":12,"episodes":[{"episode":9,"delayto":"2025-01-07T00:00:00.000Z"}],"date":"2024-11-26T21:00:00.000Z","day":26,"month":"Nov","weekday":"Tuesday","year":"2024"},{"from":"2025-01-07T19:00:00.000Z","name":"Great Pretender","picture":"great-pretender","rating":15,"count":23,"genre":["Adventure","Crime"],"episodes":[{"episode":3,"show":"single"}],"date":"2025-01-07T19:00:00.000Z","day":7,"month":"Jan","weekday":"Tuesday","year":"2025"},{"from":"2025-01-21T21:00:00.000Z","name":"BOFURI S2","picture":"bofuri","genre":["Comedy","Isekai"],"count":12,"rating":12,"date":"2025-01-21T21:00:00.000Z","day":21,"month":"Jan","weekday":"Tuesday","year":"2025"},{"from":"2025-03-04T20:00:00.000Z","name":"Bloom Into You","picture":"bloom-into-you","count":13,"rating":"pg","genre":["Romance","Drama"],"episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9,"show":"single"},{"episode":10},{"episode":11},{"episode":12},{"episode":13}],"date":"2025-03-04T20:00:00.000Z","day":4,"month":"Mar","weekday":"Tuesday","year":"2025","weeks":[{"week":"2025-03-04","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-03-11","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-03-18","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-03-25","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-04-01","episodes":[{"episode":9,"show":"single"}]},{"week":"2025-04-08","episodes":[{"episode":10},{"episode":11}]},{"week":"2025-04-15","episodes":[{"episode":12},{"episode":13}]}]},{"from":"2025-03-04T21:00:00.000Z","name":"Science Fell in Love, So I Tried to Prove It","picture":"science-fell-in-love","genre":["Romance","Comedy"],"count":12,"rating":12,"date":"2025-03-04T21:00:00.000Z","day":4,"month":"Mar","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12}],"weeks":[{"week":"2025-03-04","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-03-11","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-03-18","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-03-25","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-04-01","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-04-08","episodes":[{"episode":11},{"episode":12}]}]},{"from":"2025-04-08T18:00:00.000Z","name":"The Saga of Tanya the Evil","picture":"tanya-the-evil","rating":15,"count":12,"genre":["Action","War","Isekai"],"date":"2025-04-08T18:00:00.000Z","day":8,"month":"Apr","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12}],"weeks":[{"week":"2025-04-08","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-04-15","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-04-22","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-04-29","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-05-06","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-05-13","episodes":[{"episode":11},{"episode":12}]}]},{"from":"2025-04-15T20:00:00.000Z","name":"By the Grace of the Gods S2","picture":"by-the-grace-of-the-gods","genre":["Isekai","Slice of life"],"count":12,"rating":12,"date":"2025-04-15T20:00:00.000Z","day":15,"month":"Apr","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12}],"weeks":[{"week":"2025-04-15","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-04-22","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-04-29","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-05-06","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-05-13","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-05-20","episodes":[{"episode":11},{"episode":12}]}]},{"from":"2025-04-22T19:00:00.000Z","name":"Durarara!!","picture":"durarara","count":24,"rating":15,"date":"2025-04-22T19:00:00.000Z","day":22,"month":"Apr","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12},{"episode":13},{"episode":14},{"episode":15},{"episode":16},{"episode":17},{"episode":18},{"episode":19},{"episode":20},{"episode":21},{"episode":22},{"episode":23},{"episode":24}],"weeks":[{"week":"2025-04-22","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-04-29","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-05-06","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-05-13","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-05-20","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-05-27","episodes":[{"episode":11},{"episode":12}]},{"week":"2025-06-03","episodes":[{"episode":13},{"episode":14}]},{"week":"2025-06-10","episodes":[{"episode":15},{"episode":16}]},{"week":"2025-06-17","episodes":[{"episode":17},{"episode":18}]},{"week":"2025-06-24","episodes":[{"episode":19},{"episode":20}]},{"week":"2025-07-01","episodes":[{"episode":21},{"episode":22}]},{"week":"2025-07-08","episodes":[{"episode":23},{"episode":24}]}]},{"from":"2025-05-20T18:00:00.000Z","name":"Iroduku: The World in Colours","picture":"iroduku","rating":"pg","genre":["Slice of life","Drama"],"count":13,"episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7,"show":"single"},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12},{"episode":13}],"date":"2025-05-20T18:00:00.000Z","day":20,"month":"May","weekday":"Tuesday","year":"2025","weeks":[{"week":"2025-05-20","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-05-27","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-06-03","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-06-10","episodes":[{"episode":7,"show":"single"}]},{"week":"2025-06-17","episodes":[{"episode":8},{"episode":9}]},{"week":"2025-06-24","episodes":[{"episode":10},{"episode":11}]},{"week":"2025-07-01","episodes":[{"episode":12},{"episode":13}]}]},{"from":"2025-05-27T20:00:00.000Z","name":"Konusuba: An Explosion on This Wonderful World","picture":"konosuba-explosion","genre":[""],"count":12,"rating":15,"date":"2025-05-27T20:00:00.000Z","day":27,"month":"May","weekday":"Tuesday","year":"2025","episodes":[{"episode":1},{"episode":2},{"episode":3},{"episode":4},{"episode":5},{"episode":6},{"episode":7},{"episode":8},{"episode":9},{"episode":10},{"episode":11},{"episode":12}],"weeks":[{"week":"2025-05-27","episodes":[{"episode":1},{"episode":2}]},{"week":"2025-06-03","episodes":[{"episode":3},{"episode":4}]},{"week":"2025-06-10","episodes":[{"episode":5},{"episode":6}]},{"week":"2025-06-17","episodes":[{"episode":7},{"episode":8}]},{"week":"2025-06-24","episodes":[{"episode":9},{"episode":10}]},{"week":"2025-07-01","episodes":[{"episode":11},{"episode":12}]}]}];
var schedule = {"2025-04-15":{"displayDate":"Tuesday, 15 April 2025","date":"2025-04-15T10:17:25.633Z","slot1":{"series":{"name":"The Saga of Tanya the Evil","from":"2025-04-08T18:00:00.000Z","picture":"tanya-the-evil","rating":15},"episodes":"3, 4"},"slot2":{"series":{"name":"Bloom Into You","from":"2025-03-04T20:00:00.000Z","picture":"bloom-into-you","rating":"pg"},"episodes":"12, 13"},"slot3":{"series":{"name":"By the Grace of the Gods S2","from":"2025-04-15T20:00:00.000Z","picture":"by-the-grace-of-the-gods","rating":12},"episodes":"1, 2"}},"2025-04-22":{"displayDate":"Tuesday, 22 April 2025","date":"2025-04-22T10:17:25.633Z","slot1":{"series":{"name":"The Saga of Tanya the Evil","from":"2025-04-08T18:00:00.000Z","picture":"tanya-the-evil","rating":15},"episodes":"5, 6"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"1, 2"},"slot3":{"series":{"name":"By the Grace of the Gods S2","from":"2025-04-15T20:00:00.000Z","picture":"by-the-grace-of-the-gods","rating":12},"episodes":"3, 4"}},"2025-04-29":{"displayDate":"Tuesday, 29 April 2025","date":"2025-04-29T10:17:25.633Z","slot1":{"series":{"name":"The Saga of Tanya the Evil","from":"2025-04-08T18:00:00.000Z","picture":"tanya-the-evil","rating":15},"episodes":"7, 8"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"3, 4"},"slot3":{"series":{"name":"By the Grace of the Gods S2","from":"2025-04-15T20:00:00.000Z","picture":"by-the-grace-of-the-gods","rating":12},"episodes":"5, 6"}},"2025-05-06":{"displayDate":"Tuesday, 6 May 2025","date":"2025-05-06T10:17:25.633Z","slot1":{"series":{"name":"The Saga of Tanya the Evil","from":"2025-04-08T18:00:00.000Z","picture":"tanya-the-evil","rating":15},"episodes":"9, 10"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"5, 6"},"slot3":{"series":{"name":"By the Grace of the Gods S2","from":"2025-04-15T20:00:00.000Z","picture":"by-the-grace-of-the-gods","rating":12},"episodes":"7, 8"}},"2025-05-13":{"displayDate":"Tuesday, 13 May 2025","date":"2025-05-13T10:17:25.633Z","slot1":{"series":{"name":"The Saga of Tanya the Evil","from":"2025-04-08T18:00:00.000Z","picture":"tanya-the-evil","rating":15},"episodes":"11, 12"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"7, 8"},"slot3":{"series":{"name":"By the Grace of the Gods S2","from":"2025-04-15T20:00:00.000Z","picture":"by-the-grace-of-the-gods","rating":12},"episodes":"9, 10"}},"2025-05-20":{"displayDate":"Tuesday, 20 May 2025","date":"2025-05-20T10:17:25.633Z","slot1":{"series":{"name":"Iroduku: The World in Colours","from":"2025-05-20T18:00:00.000Z","picture":"iroduku","rating":"pg"},"episodes":"1, 2"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"9, 10"},"slot3":{"series":{"name":"By the Grace of the Gods S2","from":"2025-04-15T20:00:00.000Z","picture":"by-the-grace-of-the-gods","rating":12},"episodes":"11, 12"}},"2025-05-27":{"displayDate":"Tuesday, 27 May 2025","date":"2025-05-27T10:17:25.633Z","slot1":{"series":{"name":"Iroduku: The World in Colours","from":"2025-05-20T18:00:00.000Z","picture":"iroduku","rating":"pg"},"episodes":"3, 4"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"11, 12"},"slot3":{"series":{"name":"Konusuba: An Explosion on This Wonderful World","from":"2025-05-27T20:00:00.000Z","picture":"konosuba-explosion","rating":15},"episodes":"1, 2"}},"2025-06-03":{"displayDate":"Tuesday, 3 June 2025","date":"2025-06-03T10:17:25.633Z","slot1":{"series":{"name":"Iroduku: The World in Colours","from":"2025-05-20T18:00:00.000Z","picture":"iroduku","rating":"pg"},"episodes":"5, 6"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"13, 14"},"slot3":{"series":{"name":"Konusuba: An Explosion on This Wonderful World","from":"2025-05-27T20:00:00.000Z","picture":"konosuba-explosion","rating":15},"episodes":"3, 4"}},"2025-06-10":{"displayDate":"Tuesday, 10 June 2025","date":"2025-06-10T10:17:25.633Z","slot1":{"series":{"name":"Iroduku: The World in Colours","from":"2025-05-20T18:00:00.000Z","picture":"iroduku","rating":"pg"},"episodes":"7"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"15, 16"},"slot3":{"series":{"name":"Konusuba: An Explosion on This Wonderful World","from":"2025-05-27T20:00:00.000Z","picture":"konosuba-explosion","rating":15},"episodes":"5, 6"}},"2025-06-17":{"displayDate":"Tuesday, 17 June 2025","date":"2025-06-17T10:17:25.633Z","slot1":{"series":{"name":"Iroduku: The World in Colours","from":"2025-05-20T18:00:00.000Z","picture":"iroduku","rating":"pg"},"episodes":"8, 9"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"17, 18"},"slot3":{"series":{"name":"Konusuba: An Explosion on This Wonderful World","from":"2025-05-27T20:00:00.000Z","picture":"konosuba-explosion","rating":15},"episodes":"7, 8"}},"2025-06-24":{"displayDate":"Tuesday, 24 June 2025","date":"2025-06-24T10:17:25.633Z","slot1":{"series":{"name":"Iroduku: The World in Colours","from":"2025-05-20T18:00:00.000Z","picture":"iroduku","rating":"pg"},"episodes":"10, 11"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"19, 20"},"slot3":{"series":{"name":"Konusuba: An Explosion on This Wonderful World","from":"2025-05-27T20:00:00.000Z","picture":"konosuba-explosion","rating":15},"episodes":"9, 10"}},"2025-07-01":{"displayDate":"Tuesday, 1 July 2025","date":"2025-07-01T10:17:25.633Z","slot1":{"series":{"name":"Iroduku: The World in Colours","from":"2025-05-20T18:00:00.000Z","picture":"iroduku","rating":"pg"},"episodes":"12, 13"},"slot2":{"series":{"name":"Durarara!!","from":"2025-04-22T19:00:00.000Z","picture":"durarara","rating":15},"episodes":"21, 22"},"slot3":{"series":{"name":"Konusuba: An Explosion on This Wonderful World","from":"2025-05-27T20:00:00.000Z","picture":"konosuba-explosion","rating":15},"episodes":"11, 12"}}};


function slugify(str) {
  str = str.toLowerCase();
  str = str.replace("'", "");
  str = str.replace(/ \(.*\)/, '');
  str = str.split(/[ _/-]+/).join('-');
  return str;
}

function pickTab(code) {
  let leftcode = {
    "coming-soon": ["history"],
    "news": ["coming-soon"],
    "recommendations": ["coming-soon", "news"],
    "history": ["news", "recommendations"],
    "episodes": ["history"],
    "future": []
  }[code];

  let rightcode = {
    "coming-soon": ["news", "recommendations"],
    "news": ["recommendations", "history"],
    "recommendations": ["history"],
    "history": ["coming-soon", "episodes"],
    "episodes": [],
    "future": []
  }[code];

  // switch tabs
  for (let tab of document.getElementsByClassName('tab')) {
    if (tab.dataset.tab == code) {
      tab.classList.add('tab--show');
    } else {
      tab.classList.remove('tab--show');
    }
  }

  // switch tab panes
  for (let pane of document.getElementsByClassName('tab-pane')) {
    if (pane.dataset.tab == code) {
      pane.classList.add('tab-pane--show');
    } else {
      pane.classList.remove('tab-pane--show');
    }

    if (leftcode.includes(pane.dataset.tab)) {
      pane.classList.add('tab-pane--shift-left');
    } else {
      pane.classList.remove('tab-pane--shift-left');
    }

    if (rightcode.includes(pane.dataset.tab)) {
      pane.classList.add('tab-pane--shift-right');
    } else {
      pane.classList.remove('tab-pane--shift-right');
    }
  }
}

function pickPane(paneset, show) {
  for (let picklink of document.querySelectorAll(`.pick[data-pane-set='${paneset}']`)) {
    if (picklink.dataset.show == show) {
      picklink.classList.add('pick--show');
    } else {
      picklink.classList.remove('pick--show');
    }
  }

  for (let panesetdiv of document.querySelectorAll(`.pane-set[data-pane-set='${paneset}']`)) {
    for (let pane of panesetdiv.getElementsByClassName('pane')) {
      if (pane.dataset.pane == show) {
        pane.classList.add('pane--show');
      } else {
        pane.classList.remove('pane--show');
      }
    }
  }
}

function setupTabs(auto = false) {
  var autoInterval = null;
  var tabCodes = [];

  // tabs
  for (let tab of document.getElementsByClassName('tab')) {
    let code = tab.dataset.tab;
    tabCodes.push(code);
    ((code) => {
      tab.addEventListener('click', (evt) => {
        // stop auto-flipping when the user clicks
        if (autoInterval != null) {
          clearInterval(autoInterval);
          autoInterval = null;
        }

        pickTab(code);
      });
    })(code);
  }

  // auto step from one tab to the next, until they click
  if (auto) {
    var nextAuto = 1;
    autoInterval = setInterval(() => {
      console.log("Next interval:", nextAuto, tabCodes[nextAuto]);
      let code = tabCodes[nextAuto++];
      if (nextAuto >= tabCodes.length) {
        nextAuto = 0;
      }

      pickTab(code);
    }, 5000);
  }

  // pick panes
  for (let picklink of document.getElementsByClassName('pick')) {
    let paneset = picklink.dataset.paneSet;
    let show = picklink.dataset.show;
    ((paneset, show) => {
      picklink.addEventListener('click', (evt) => {
        // stop auto-flipping when the user clicks
        if (autoInterval != null) {
          clearInterval(autoInterval);
          autoInterval = null;
        }

        pickPane(paneset, show);
      });
    })(paneset, show);
  }

  // tabs in URL
  if (window.location.hash) {
    let match = window.location.hash.match(/tab=(.*)/);
    if (match !== null) {
      pickTab(match[1]);
      clearInterval(autoInterval);
    }
  }
}


function template_series(series, opts = {}) {
  opts = {
    large: false,
    isNew: false,
    showDate: false,
    showRating: false,
    showTrailer: false,
    prefix: false,
    showGenres: false,
    info: false,
    ...opts
  }

  if (series === null || !series.hasOwnProperty("name") || series.name === null || series.name == "") {
    return "";
  }

  let cls = (series.movie ? " movie" : "")+((opts.showDate || opts.showRating || opts.showGenres) ? " series--small-title" : "")+(opts.large ? " series--large" : "");
  let prefix = opts.prefix ? opts.prefix : (series.movie ? "Movie" : (opts.isNew ? "New series" : false));

  return `<figure class="series--right ${cls}">
    	<figcaption>
        ${prefix ? `<p class="series-ident">${prefix}</p>` : ''}
        <h3>${series.name}</h3>
        ${(opts.showGenres && series.genre) ?
          series.genre.map((genre) => {
            let slug = slugify(genre);
            return `<span class="genre genre-${slug}" data-genre="${slug}">${genre}</span>`;
          }).join(' ')
          : ''}

        ${opts.showDate ? `
          ${(opts.isNew && !series.movie) ? "<div class='series-info'><p class='starting'>Starting</p></div>" : ""}
          ${template_date(series)}
        ` : ''}

        ${opts.info ? `<p class='info-line'>${opts.info}</p>` : ''}

        ${(series.trailer && opts.showTrailer) ? `<a class='trailer' href='${trailer}' target='_blank'>Trailer</a>` : ''}

        ${(series.move && series.time) ? `<div class='movie-time'>
          <p class='movie-weekday'>${item.weekday}</p>
          <p class='movie-start-time'>${item.time}</p>
        </div>` : ''}

        ${(opts.showRating && series.rating) ? `<div class='rating'>
          <img class='rating-img rating-${series.rating}' src='images/rating/${(""+series.rating).toLowerCase()}.svg'>
          <div class='rating-hover rating-hover-${series.rating}'>
            <span>Age rating: ${ratingText[series.rating]}</span>
            <div class='rating__tag'></div>
          </div>
        </div>` : ''}

      </figcaption>
      <img class='series-picture' src='images/series/${series.picture}.png'>
    </figure>`;
}

function template_event(event) {

}

function template_date(item, opts = {}) {
  opts = {
    showYear: true,
    ...opts
  };
  return `<time datetime="${item.date}">
      <span class='day'>${item.day}</span>
      <span class='month'>${item.month}</span>
      ${opts.showYear ? `<span class='year'>${item.year}</span>` : ""}
    </time>`;
}

var now = new Date(Date.now());
var currentSlot1, currentSlot2, currentSlot3;

function setupHome() {
  var yesterday = new Date(Date.now());
  yesterday.setDate(yesterday.getDate() - 1);

  // adjust the events list
  let futureEvents = events.filter(function (event) {
    return Date.parse(event.date) > yesterday;
  }).slice(0, 24);

  setupHomeNextMeeting(futureEvents);
  setupHomeNowShowing();
  setupHomeComingSoon();
  setupHomeEventsList(futureEvents);
  setupHomeNews();
  setupHomeRecommendations();
  setupHomeEpisodeHistory();
}

function formatEventDateTime(event, name, tagline) {
  return `<time datetime='${event.date}'>
    <span class='day'>${event.day}</span>
    <span class='month'>${event.month}</span>
    <span class='year'>${event.year}</span>
  </time>
  <div class='focus-date-side'>
    <span class='next-social-title'>${name}</span>
    <br>${tagline}
  </div>`;
}

function setupHomeNextMeeting(events) {
  var meetings = [];
  var social = [];
  var online = [];
  for (var event of events) {
    for (ev of event.events) {
      switch (ev.class) {
        case 'anime':
          meetings.push(ev);
          break;

        case 'social':
        case 'cinema':
          social.push(ev);
          break;

        case 'online':
          online.push(ev);
          break;
      }
    }
  }

  // next main meeting
  var nextMeeting = meetings[0];
  
  document.getElementById('next-meeting-date').innerHTML = 
    `<time datetime='${nextMeeting.date}'>
      <span class='day'>${nextMeeting.day}</span>
      <span class='month'>${nextMeeting.month}</span>
      <span class='year'>${nextMeeting.year}</span>
    </time>
    <div class='next-meeting-side focus-date-side'>
      ${nextMeeting.weekday}<br>${nextMeeting.time}
    </div>`;
  // document.getElementById('next-meeting-title').innerHTML = (nextEvent.name == 'Anime Society Meeting' ? '' : nextEvent.name);
  if (document.getElementById('next-meeting-venue')) {
    document.getElementById('next-meeting-venue').innerHTML = nextMeeting.venue;
  }
  if (document.getElementById('next-meeting-address')) {
    document.getElementById('next-meeting-address').innerHTML = nextMeeting.address;
  }

  // next social
  if (social.length > 0) {
    var nextSocial = social[0];

    document.getElementById('next-social-date').innerHTML = formatEventDateTime(nextSocial, nextSocial.name, nextSocial.weekday + " " + nextSocial.time);
    if (document.getElementById('next-social-venue')) {
      document.getElementById('next-social-venue').innerHTML = nextSocial.venue;
    }
    if (document.getElementById('next-social-address')) {
      document.getElementById('next-social-address').innerHTML = nextSocial.address;
    }
  } else {
    document.getElementById('section-next-social').remove();
  }

  // next online
  if (online.length > 0) {
    var nextOnline = online[0];

    document.getElementById('next-online-date').innerHTML = formatEventDateTime(nextOnline, nextOnline.name, nextOnline.time);
  } else {
    document.getElementById('section-next-online').remove();
  }
}

function setupHomeNowShowing() {

  // adjust the showing anime
  function showingAnime(slot) {
    var before = slot.filter(function (series) {
      var from = series.hasOwnProperty('displayFrom') ? series.displayFrom : series.from;
      return Date.parse(from) < now;
    });
    return before[before.length - 1];
  }

  currentSlot1 = showingAnime(slot1);
  currentSlot2 = showingAnime(slot2);
  currentSlot3 = showingAnime(slot3);

  function editSlot(id, series) {
    if (series.name == "") {
      document.getElementById(id).classList.add('hide');
      return;
    }

    document.getElementById(id+'name').innerHTML = '<p class="series-ident">'+(series.movie ? 'Movie' : 'Series')+'</p>'+series.name;
    var img = document.getElementById(id+'picture');
    img.setAttribute('src', 'images/series/'+series.picture+'.png');
    img.classList.add("show");

    var slotDate = document.getElementById(id+'date');
    if (slotDate !== null) {
      slotDate.innerHTML = "<span class='day'>"+series.day+"</span><span class='month'>"+series.month+"</span>";
    }

    if (series.movie) {
      document.getElementById(id).classList.add('movie');
    }

    if (series.rating) {
      document.getElementById(id+'rating').innerHTML = `<img class='rating-img rating-${series.rating}' src='images/rating/${series.rating}.svg'>` +
        `<div class='rating-hover rating-hover-${series.rating}'><span>Age rating: ${ratingText[series.rating]}</span><div class='rating__tag'></div></div>`;
    }
  }

  editSlot('slot1', currentSlot1);
  editSlot('slot2', currentSlot2);
  editSlot('slot3', currentSlot3);
}

// adjust the coming soon list
function futureN(items, number) {
  var after = items.filter(function(item) {
    return Date.parse(item.date) >= now;
  });
  return after.slice(0, number);
}

function excludeSeries(items, exclude) {
  let excludeNames = exclude.map(function (item) {
    return item.name;
  });
  return items.filter(function (item) {
    return !excludeNames.includes(item.name);
  });
}

function setupHomeComingSoon() {
  // var rowCutoffs = {1: 2, 2: 5, 3: 8, 4: 11};
  // function findCutoff(items, maxRow) {
  //   for (var row = maxRow; row > 1; row--) {
  //     var cutoff = rowCutoffs[row];
  //     if (items >= cutoff)
  //       return cutoff;
  //   }
  //   return rowCutoffs[1];
  // }

  comingSoon = futureN(comingSoon, 16);
  comingSoon = excludeSeries(comingSoon, [currentSlot1, currentSlot2, currentSlot3]);
  comingSoon = futureN(comingSoon, 12);

  var comingSoonHTML = '';
  for (let item of comingSoon) {
    if (item.noCalendar)
      continue;
    var isMovie
    var html = template_series(item, {
      isNew: true,
      showDate: true,
      showRating: true,
      large: item.movie
    });
    comingSoonHTML = comingSoonHTML + html;
  }
  document.getElementById('coming-soon').innerHTML = comingSoonHTML;

  if (comingSoon.length <= 2) {
    document.getElementById('coming-soon').classList.add('coming-soon--very-short');
  } else if (comingSoon.length <= 5) {
    document.getElementById('coming-soon').classList.add('coming-soon--short');
  }
}

function setupHomeEventsList(futureEvents) {
  var eventsHTML = '';
  for (var event of futureEvents) {
    let partEvents = event.events.filter((evt) => !evt.hide);
    if (partEvents.length == 0) {
      continue;
    }

    var html = 
      `<article id='upcoming-${event.date}' class='event event-${event.class}'>
        <time datetime='${event.date}'>
          <span class='day'>${event.day}</span>
          <span class='month'>${event.month}</span>
          ${event.special ? "<span class='time__special'></span>" : ""}
        </time>\n`;
    for (ev of partEvents) {
      var time = false;
      var a = "";
      var _a = "";
      if (ev.hasOwnProperty("link")) {
        a = "<a href='"+ev.link+"'>";
        _a = "</a>";
      }
      html = html + "<div class='event-detail event-detail-"+ev.class+"'>";
      if (ev.hasOwnProperty("picture") && ev.picture != "") {
        html = html + "<img src='images/series/"+ev.picture+".png'>";
      }
      if (ev.hasOwnProperty("prename") && ev.prename != "") {
        html = html + "<p class='series-ident'>"+ev.prename+"</p>";
      }
      html = html + "<h3>"+ev.name+"</h3>\n";
      if (ev.hasOwnProperty("time") || (ev.hasOwnProperty("venue") && ev.venue)) {
        html = html+"<p>"+a;
        if (ev.hasOwnProperty("venue") && ev.venue) {
          html = html + ev.venue;
          if (ev.hasOwnProperty("time")) {
            html = html + ", ";
            if (ev.hasOwnProperty("shortWeekday")) html = html + ev.shortWeekday + " ";
            html = html + ev.time;
          }
        } else {
          if (ev.hasOwnProperty("shortWeekday")) html = html + ev.shortWeekday + " ";
          html = html+ev.time;
        }

        html = html+_a+"</p>\n";
      }
      if (ev.price) {
        html = html + "<p>Club fee: "+ev.price+"</p>";
      }
      html = html+"</div>";
    };
    html = html + "</article>\n";
    eventsHTML = eventsHTML + html;
  }
  document.getElementById('events-list').innerHTML = eventsHTML;
}

function setupHomeNews() {
  try {
    fetch("/news.html").then((response) => {
      return response.text();
    }).then((html) => {
      document.getElementById('news-area').innerHTML = html;
    });
  } catch (e) {
    console.error("Error fetching news:", e);
  }
}

function setupHomeRecommendations() {
  // pick a random recommendation
  console.log('Recommendations: '+top10.length+' items');
  // let index = Math.floor(Math.random() * top10.length);
  let rec_names = [];
  let rec_anime = [];
  for (let i = 0; i < 10 && rec_anime.length < 3; i++) {
    let series = top10[Math.floor(Math.random() * top10.length)];
    if (rec_names.includes(series.name))
      continue;
    rec_anime.push(series);
    rec_names.push(series.name);
  }
  console.log('Recommendations:', rec_anime);

  let first = 1;
  let html = rec_anime.map((series) => {
    return template_series(series, {
      prefix: "You may enjoy...",
      // large: (first--) > 0,
      showGenres: true,
    });
  }).join("");

  document.getElementById('home-recommendations').innerHTML = html;
}

function setupHomeEpisodeHistory() {
  console.log('All anime:', allAnime.length, 'shows');
  let pastAnime = allAnime.filter((series) => {
    let date = new Date(series.from);
    return date <= now &&
      series.name != currentSlot1.name &&
      series.name != currentSlot2.name &&
      series.name != currentSlot3.name;
  });

  console.log('Past anime:', pastAnime.length, 'shows');
  let recentAnime = pastAnime.slice(pastAnime.length - 8);
  recentAnime.reverse();
  console.log('Recent anime', recentAnime);

  let historyHtml = '';
  for (let series of recentAnime) {
    var html = template_series(series, {
      prefix: "We recently watched...",
      showGenres: true,
      // info: series.month,
    });
    historyHtml = historyHtml + html;
  }

  document.getElementById('history').innerHTML = historyHtml;
}

function setupRecommendations() {
  // clear genre and list selection
  function clearPick (event) {
    document.body.classList.remove('genre-filter');
    document.body.classList.remove('list-filter');
    for (let genreLink of document.getElementsByClassName('genre')) {
      let genre = genreLink.dataset.genre;
      document.body.classList.remove('genre-filter-'+genre);
      genreLink.classList.remove('genre-selected');
    }

    for (let listLink of document.getElementsByClassName('pick-list')) {
      let list = listLink.dataset.list;
      document.body.classList.remove('list-filter-'+list);
      listLink.classList.remove('pick-show');
      document.getElementById('pick-pane-'+list).classList.remove('pick-pane-show');
    }
  }

  function scrollToResults() {
    document.getElementById('top10results').scrollIntoView({ block: 'start', behavior: 'smooth' });
  }

  function pickGenre(genre) {
    clearPick();

    document.body.classList.add('genre-filter');
    document.body.classList.add('genre-filter-'+genre);
    for (let link of document.getElementsByClassName('genre-'+genre)) {
      link.classList.add('genre-selected');
    }
    scrollToResults();
  }

  function pickList(list) {
    clearPick();

    document.body.classList.add('list-filter')
    document.body.classList.add('list-filter-'+list);
    document.getElementById('pick-list-'+list).classList.add('pick-show');
    document.getElementById('pick-pane-'+list).classList.add('pick-pane-show');
    scrollToResults();
  }

  // select genre
  for (let genreLink of document.getElementsByClassName('genre')) {
    (function (genreLink) {
      let genre = genreLink.dataset.genre;
      function selectGenre(event) {
        pickGenre(genre);
      }
      genreLink.addEventListener('click', selectGenre);
      // genreLink.addEventListener('touchend', selectGenre);
    })(genreLink);
  }

  // select list
  for (let listLink of document.getElementsByClassName('pick-list')) {
    (function (listLink) {
      let list = listLink.dataset.list;
      function selectList(event) {
        pickList(list);
      }
      listLink.addEventListener('click', selectList);
      // listLink.addEventListener('touchend', selectList);
    })(listLink);
  }

  let clearLink = document.getElementById('clear-filter');
  if (clearLink !== null) {
    clearLink.addEventListener('click', clearPick);
    // clearLink.addEventListener('touchend', clearPick);
  }

  // initial selection
  setTimeout(function () {
    if (window.location.hash !== null && window.location.hash.length > 1) {
      let hash = window.location.hash.substring(1);
      let vars = parseQuery(hash);

      if (vars.hasOwnProperty('genre')) {
        pickGenre(vars.genre);
      }
    }
  });
}

let longDateFormat = new Intl.DateTimeFormat('en-GB', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
function formatLongDate(date) {
  try {
    let parts = {};
    for (let part of longDateFormat.formatToParts(date)) {
      parts[part.type] = part.value;
    }
    return parts.weekday+", "+parts.day+" "+parts.month+" "+parts.year;
  } catch(err) {
    console.error("Bad date", date);
    console.error(err);
    return "";
  }
}

let shortDateFormat = new Intl.DateTimeFormat('en-GB', { year: 'numeric', month: 'numeric', day: 'numeric' });
function formatShortDate(date) {
  try {
    let parts = {};
    for (let part of shortDateFormat.formatToParts(date)) {
      parts[part.type] = part.value;
    }
    return parts.year+"-"+padNumber(parts.month, 2)+"-"+padNumber(parts.day, 2);
  } catch(err) {
    console.error("Bad date", date);
    console.error(err);
    return "";
  }
}

function padNumber(num, digits) {
  num = '0'.repeat(digits)+num;
  num = num.substr(num.length - digits);
  return num;
}


function setupHistory() {
  // history
  let now = new Date(Date.now());
  let pastAnime = allAnime.filter((series) => new Date(series.from) < now);
  let recentAnime = pastAnime.slice(pastAnime.length - 8).reverse();

  let historyHtml = [
    `<div class='history-tab-pane pane pane--show' data-pane='recent'>
      <div class="series-grid">
        ${recentAnime.map((series) => template_series(series, {
          showGenres: true,
          info: series.month,
        })).join("")}
      </div>
    </div>`];

  for (let year of historyYears) {
    let yearAnime = pastAnime.filter((series) => series.year == year);

    historyHtml.push(
      `<div class='history-tab-pane pane' data-pane='${year}'>
        <div class='series-grid'>
          ${yearAnime.map((series) => template_series(series, {
            showGenres: true,
            info: series.month,
          })).join("")}
        </div>
      </div>`);
  }
  let historyResultsPane = document.getElementById('history-results');
  historyResultsPane.innerHTML = historyResultsPane.innerHTML + historyHtml.join("");

  // episodes
  let tuesday = new Date(Date.now());
  while (tuesday.getDay() != 2) {
    let tuesdayDom = tuesday.getDate();
    tuesday.setDate(tuesdayDom - 1);
  }

  let threshold = new Date(tuesday);
  threshold.setDate(threshold.getDate() - 60);

  function minus1week(from) {
    let date = new Date(from);
    date.setDate(date.getDate() - 7);
    return date;
  }

  function plus1week(from) {
    let date = new Date(from)
    date.setDate(date.getDate() + 7);
    return date;
  }

  let episodeHtml = [];
  for (let date = tuesday; date > threshold; date = minus1week(date)) {
    let shortdate = formatShortDate(date);
    let longdate = formatLongDate(date);

    if (schedule.hasOwnProperty(shortdate)) {
      let slots = schedule[shortdate];

      episodeHtml.push(`
        <h2 class='underline'>${longdate}</h2>

        <div class='c3e'>
          ${slots.slot1 ? template_series(slots.slot1.series, {
            info: "Episodes: "+slots.slot1.episodes
          }) : ''}

          ${slots.slot2 ? template_series(slots.slot2.series, {
            info: "Episodes: "+slots.slot2.episodes
          }) : ''}

          ${slots.slot3 ? template_series(slots.slot3.series, {
            info: "Episodes: "+slots.slot3.episodes
          }) : ''}
        </div>`);
    }
  }

  document.getElementById('history-episode-list').innerHTML = episodeHtml.join("");

  let futureHtml = []
  for (let date = tuesday; true; date = plus1week(date)) {
    let shortdate = formatShortDate(date);
    let longdate = formatLongDate(date);

    if (!schedule.hasOwnProperty(shortdate)) {
      break;
    }

    let slots = schedule[shortdate];

    futureHtml.push(`
      <h2 class='underline'>${longdate}</h2>

      <div class='c3e'>
        ${slots.slot1 ? template_series(slots.slot1.series, {
          info: "Episodes: "+slots.slot1.episodes
        }) : ''}

        ${slots.slot2 ? template_series(slots.slot2.series, {
          info: "Episodes: "+slots.slot2.episodes
        }) : ''}

        ${slots.slot3 ? template_series(slots.slot3.series, {
          info: "Episodes: "+slots.slot3.episodes
        }) : ''}
      </div>`);
  }

  document.getElementById('history-future-list').innerHTML = futureHtml.join("");
}

// select a background image
function selectBackground() {
    var DAY_LIMIT = 5;
    var NIGHT_LIMIT = 7;

    var hour = new Date().getHours();
    var isDay = hour >= 6 && hour < 18;
    var bgNum = 1+Math.floor(Math.random() * (isDay ? DAY_LIMIT : NIGHT_LIMIT));
    var bg = (isDay ? "day-" : "night-")+bgNum;

    if (isDay) {
      document.body.classList.add('day');
      document.body.classList.remove('night');
    } else {
      document.body.classList.add('day');
      document.body.classList.remove('night');
    }

    document.body.setAttribute('bg', bg);
}

function parseQuery(queryString) {
    var query = {};
    var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');
    for (var i = 0; i < pairs.length; i++) {
        var pair = pairs[i].split('=');
        query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');
    }
    return query;
}

window.onload = function () {
  if (isHome) {
    setupHome();
  }

  if (isRecommendations) {
    setupRecommendations();
  }

  if (isHistory) {
    setupHistory();
  }

  setupSlideshow();
  setupTabs(true);

  // add hover on all the rating symbols
  function addRatingHover(item) {
    var img = item.getElementsByClassName("rating-img")[0];
    var hover = item.getElementsByClassName("rating-hover")[0];
    var tag = item.getElementsByClassName("rating__tag")[0];

    if (img === undefined) {
      return;
    }

    img.addEventListener("mouseover", function(event) {
      hover.classList.add("rating-hover--show");

      var imgbox = img.getBoundingClientRect();
      var hoverbox = hover.getBoundingClientRect();

      var left = imgbox.left - hoverbox.left + 17;
      tag.style.left = left+"px";
    });
    img.addEventListener("mouseout", function(event) {
      hover.classList.remove("rating-hover--show");
    });
  }

  var ratingElements = document.getElementsByClassName('rating');
  for (var item of ratingElements) {
    addRatingHover(item);
  }

  selectBackground();
};
setInterval(selectBackground, 300000); // 5 minutes

function expandComingSoon() {
  let elem = document.getElementById('coming-soon');
  if (elem !== null) {
    elem.classList.remove('coming-soon--less');
    elem.classList.add('coming-soon--more');
  }
}

function setupSlideshow() {
  for (let slideshow of document.getElementsByClassName('slideshow')) {
    (function (slideshow) {
      let pos = 1;
      setInterval(function () {
        slideshow.classList.remove('pos'+pos);
        pos++;
        if (pos > 4) {
          pos -= 4;
        }
        slideshow.classList.add('pos'+pos);
      }, 3000);
    })(slideshow);
  }
}

function showMap() {
  document.getElementById('blanket').className = "hide";
  document.getElementById('map-overlay').className = "hide";
  setTimeout(() => {
    document.getElementById('blanket').className = "show";
    document.getElementById('map-overlay').className = "show";
  }, 1);
}

function showNews() {
  document.getElementById('news-more-switch').className = "hide";
  document.getElementById('news-more').className = "show";
}

function hideMap() {
  document.getElementById('blanket').className = "hide";
  document.getElementById('map-overlay').className = "hide";
  setTimeout(() => {
    document.getElementById('blanket').className = "";
    document.getElementById('map-overlay').className = "";
  }, 500);
}
